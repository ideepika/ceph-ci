<form #frm="ngForm"
      [formGroup]="userForm"
      (ngSubmit)="onSubmit()"
      novalidate>
  <div class="form-group has-feedback">
    <div class="input-group">
      <input class="form-control"
             type="password"
             placeholder="Old password..."
             id="oldpassword"
             formControlName="oldpassword"
             autocomplete="off"
             autofocus>
      <span class="input-group-append">
        <button class="btn btn-outline-light btn-password"
                cdPasswordButton="oldpassword">
        </button>
      </span>
    </div>
    <span class="invalid-feedback"
          *ngIf="userForm.showError('oldpassword', frm, 'required')"
          i18n>This field is required.</span>
    <span class="invalid-feedback"
          *ngIf="userForm.showError('oldpassword', frm, 'notmatch')"
          i18n>The old and new passwords must be different.</span>
  </div>
  <div class="form-group has-feedback">
    <div class="input-group">
      <input class="form-control"
             type="password"
             placeholder="Password..."
             id="newpassword"
             autocomplete="new-password"
             formControlName="newpassword">
      <span class="input-group-append">
        <button type="button"
                class="btn btn-outline-light btn-password"
                cdPasswordButton="newpassword">
        </button>
      </span>
    </div>
    <div class="passwordStrengthLevel">
      <div class="{{ passwordStrengthLevel }}"
           data-toggle="tooltip"
           title="{{ passwordStrengthDescription }}">
      </div>
    </div>
    <span class="invalid-feedback"
          *ngIf="userForm.showError('newpassword', frm, 'required')"
          i18n>This field is required.</span>
    <span class="invalid-feedback"
          *ngIf="userForm.showError('newpassword', frm, 'notmatch')"
          i18n>The old and new passwords must be different.</span>
    <span class="invalid-feedback"
          *ngIf="userForm.showError('newpassword', frm, 'checkPassword')"
          i18n>Too weak</span>
  </div>
  <div class="form-group has-feedback">
    <div class="input-group">
      <input class="form-control"
             type="password"
             autocomplete="off"
             placeholder="Confirm new password..."
             id="confirmnewpassword"
             formControlName="confirmnewpassword">
      <span class="input-group-append">
        <button class="btn btn-outline-light btn-password"
                cdPasswordButton="confirmnewpassword">
        </button>
      </span>
    </div>
    <span class="invalid-feedback"
          *ngIf="userForm.showError('confirmnewpassword', frm, 'required')"
          i18n>This field is required.</span>
    <span class="invalid-feedback"
          *ngIf="userForm.showError('confirmnewpassword', frm, 'match')"
          i18n>Password confirmation doesn't match the new password.</span>
  </div>

  <input type="submit"
         class="btn btn-secondary btn-block"
         [disabled]="userForm.invalid"
         value="Change password"
         i18n-value>
</form>
